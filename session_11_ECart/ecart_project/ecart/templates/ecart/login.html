{% extends "base.html" %}
{% load static %}

{% block content %}
<div style="max-width: 400px; margin: 50px auto; padding: 30px; background: white; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
  <h2 style="text-align: center; margin-bottom: 20px;">
    {% if site_header %}{{ site_header }}{% else %}Login{% endif %}
  </h2>

  {% if form.errors %}
    <div style="background: #ffebee; color: #c62828; padding: 10px; border-radius: 4px; margin-bottom: 15px;">
      <strong>Error:</strong> Please correct the errors below.
      {% if form.non_field_errors %}
        {{ form.non_field_errors }}
      {% endif %}
    </div>
  {% endif %}

  <form method="POST" action="{% if app_path %}{{ app_path }}{% else %}{% url 'ecart:login' %}{% endif %}">
    {% csrf_token %}
    
    {% if next %}
      <input type="hidden" name="next" value="{{ next }}">
    {% endif %}
    
    <div style="margin-bottom: 15px;">
      <label for="id_username" style="display: block; margin-bottom: 5px; font-weight: bold;">Username:</label>
      {{ form.username }}
      {% if form.username.errors %}
        <span style="color: #c62828; font-size: 0.9em;">{{ form.username.errors }}</span>
      {% endif %}
    </div>
    
    <div style="margin-bottom: 20px;">
      <label for="id_password" style="display: block; margin-bottom: 5px; font-weight: bold;">Password:</label>
      {{ form.password }}
      {% if form.password.errors %}
        <span style="color: #c62828; font-size: 0.9em;">{{ form.password.errors }}</span>
      {% endif %}
    </div>
    
    <button type="submit" style="width: 100%; background:#007bff; color:white; padding:12px; border:none; border-radius:5px; font-size: 16px; cursor: pointer;">
      Login
    </button>
  </form>

  {% if not app_path %}
    <p style="text-align: center; margin-top: 20px;">
      New user? <a href="{% url 'ecart:register' %}" style="color: #007bff; text-decoration: none;">Register here</a>
    </p>
  {% endif %}
</div>

<style>
  input[type="text"], input[type="password"] {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 14px;
    box-sizing: border-box;
  }
  input[type="text"]:focus, input[type="password"]:focus {
    outline: none;
    border-color: #007bff;
  }
</style>
{% endblock %}
